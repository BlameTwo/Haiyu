<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Haiyu.Controls">
    <Style x:Key="DefaultApplicationBackgroundControlStyle" TargetType="local:ApplicationBackgroundControl">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="local:ApplicationBackgroundControl">
                    <Grid>
                        <ProgressBar x:Name="LoadingControl" Background="Transparent" />
                        <Border x:Name="MediaBorder" Opacity="1">
                            <MediaPlayerPresenter x:Name="MediaControl" Stretch="{TemplateBinding Stretch}" />
                        </Border>
                        <Image
                            x:Name="ImageControl"
                            Opacity="1"
                            Stretch="{TemplateBinding Stretch}" />
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="ShowMedia">
                                    <VisualState.Storyboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="ImageControl"
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:1" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="MediaBorder"
                                                Storyboard.TargetProperty="Opacity"
                                                To="1"
                                                Duration="0:0:1" />
                                        </Storyboard>
                                    </VisualState.Storyboard>
                                </VisualState>
                                <VisualState x:Name="ShowImage">
                                    <VisualState.Storyboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="ImageControl"
                                                Storyboard.TargetProperty="Opacity"
                                                To="1"
                                                Duration="0:0:1" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="MediaBorder"
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:1" />
                                        </Storyboard>
                                    </VisualState.Storyboard>
                                </VisualState>
                                <VisualState x:Name="MediaLoading">
                                    <VisualState.Storyboard>
                                        <Storyboard>
                                            <DoubleAnimation
                                                Storyboard.TargetName="ImageControl"
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:1" />
                                            <DoubleAnimation
                                                Storyboard.TargetName="MediaBorder"
                                                Storyboard.TargetProperty="Opacity"
                                                To="0"
                                                Duration="0:0:1" />
                                        </Storyboard>
                                    </VisualState.Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
